## 10회차 | Next.js 심화 질문 정리 (Next.js 14 렌더링 전략(SSR, CSR, SSG, ISR), 데이터 페칭, API Routes)

> 📅 날짜: 2025-09-18 (목) <br/>
> 📚 주제: Next.js 심화 질문 (Next.js 14 렌더링 전략(SSR, CSR, SSG, ISR), 데이터 페칭, API Routes)

<br/>

### ✅ 면접 질문 리스트

### 기본 개념

**1. CSR(Client-Side Rendering)과 SSR(Server-Side Rendering)은 어떤 차이가 있나요?**

**CSR**은 **브라우저에서 자바스크립트로 페이지를 만드는 방식**입니다.

브라우저가 빈 HTML을 받은 뒤에 자바스크립트가 실행되면서 화면을 그립니다.

최초 로딩은 느릴 수 있지만, 이후 페이지 전환은 빠릅니다.

<br/>

**SSR**은 **서버에서 완성된 HTML을 만들어서 브라우저에 보내주는 방식**입니다.

사용자가 페이지를 요청할 때마다 서버가 새로운 HTML을 만들어 줍니다.

화면 로딩 속도가 빠르고, SEO에 좋습니다.

<br/><br/>

**2. Next.js에서 제공하는 다양한 렌더링 기법들(SSR, SSG, ISR, CSR)에 대해 각각 설명해 주실 수 있을까요?**

**SSR(Server-Side Rendering)은** **사용자가 요청할 때마다 서버에서 HTML을 만드는 방식**입니다.

실시간 데이터나 사용자별로 다른 내용을 보여줄 때 쓰입니다.

<br/>

**CSR(Client-Side Rendering)은** **브라우저에서 자바스크립트로 데이터를 가져와서 화면을 그리는 방식**입니다.

보통 대시보드나 사용자 계정 페이지에 적합합니다.

<br/>

**SSG(Static Site Generation)는** **빌드할 때 미리 HTML을 만들어두는 정적 렌더링 방식**입니다.

정적 렌더링 방식이라서 회사 소개 페이지 같이 내용이 자주 바뀌지 않는 곳에 좋습니다.

<br/>

**ISR(Incremental Static Regeneration)은** **SSG를 기반으로 요청이 있으면 HTML을 새로 생성해서 업데이트할 수 있는 렌더링 방식**입니다.

정적 렌더링 방식이면서도 새 데이터로 업데이트할 수 있다는 특징이 있습니다.

<br/><br/>

**3. `getServerSideProps`와 `getStaticProps`는 언제 사용하면 좋을까요?**

**getServerSideProps**는 요청 시 최신 데이터를 가져와야 할 때 사용합니다.

- **사용자마다 다른 내용을 보여줘야 할 때** (개인 정보, 장바구니 등)
- **실시간으로 바뀌는 데이터**가 필요할 때
- **로그인 상태나 쿠키 정보**를 확인해야 할 때

**getStaticProps**는 데이터가 자주 바뀌지 않고, 빌드 시 생성해도 되는 경우에 사용합니다.

- **내용이 자주 바뀌지 않는 페이지** (블로그, 제품 소개 등)
- **빠른 로딩 속도와 SEO가 중요한 페이지**일 때

<br/><br/>

**4. SSG(Static Site Generation)와 ISR(Incremental Static Regeneration)의 차이는 무엇인가요?**

**SSG**는 **빌드할 때 미리 HTML을 만들어두는 정적 렌더링 방식**입니다.

한 번 만들어지면 다시 배포하기 전까지는 내용이 바뀌지 않습니다.

**데이터 변경이 거의 없는 완전히 고정된 내용의 사이트**에 적합합니다. (회사 소개 페이지)

<br/>

**ISR**은 **SSG를 기반으로 하는 정적 렌더링 방식이지만, 요청에 따라 데이터를 새로 업데이트 할 수 있는 방식**입니다.

일정 시간이 지나거나 요청할 경우 페이지를 다시 만들어서 내용을 업데이트합니다.

**주기적으로 데이터가 업데이트 되어야 하는 사이트**에 적합합니다. (주식, 날씨 등)

<br/><br/>

**5. ISR(Incremental Static Regeneration)은 어떤 방식으로 동작하나요?**

**ISR**은 **요청이 들어오면 먼저 기존 페이지를 즉시 보여주고**, **동시에 백그라운드에서 새 HTML을 생성**합니다.

새 페이지가 생성되면 이후 요청부터는 **업데이트된 최신 페이지가 제공**됩니다.

- **ISR 동작 과정**
  1. **처음에는 미리 만든 페이지**를 사용자에게 바로 보여줌
  2. **정해진 시간(revalidate)이 지나면**(or 새 요청이 들어오면) 백그라운드에서 페이지를 다시 만듦
  3. **사용자는 여전히 기존 페이지**를 빠르게 볼 수 있음 → 기다리지 않아도 됨
  4. **새 페이지가 완성되면** 그 다음부터는 유저는 업데이트 된 내용을 봄

<br/><br/>

**6. SSR은 항상 좋은 선택일까요? 장단점 관점에서 설명해 주세요.**

**SSR의 장점**

- **초기 로딩 속도가 빠름**
- **SEO에 매우 좋음** (→ 검색엔진이 완성된 HTML을 바로 읽을 수 있음)
- **실시간 데이터**를 보여줄 수 있음
- **보안에 유리함** (서버에서 인증 처리 가능)

<br/>

**SSR의 단점**

- **서버 부담이 큼** (→ 요청마다 서버에서 페이지를 새로 만들어야 함)
- **서버 응답이 느릴 수 있음**
- **CDN 활용이 제한적임**
- **서버 비용이 많이 듦**

SSR은 **사용자별로 다른 내용을 보여줘야 하거나 실시간 데이터가 필요한 경우** 사용하는 것이 좋음

<br/><br/>

**7. Next.js에서 SSR을 사용하면서도 페이지 전환이 부드럽게 이루어지는 이유는 무엇인가요?**

Next.js는 **최초 요청 시 서버에서 SSR로 완성된 HTML**을 내려줍니다.

그 이후 페이지 전환은 **클라이언트 사이드 라우팅**을 통해 처리되기 때문에, **전체 페이지를 다시 새로고침하지 않**습니다.

그리고 **`<Link>` 컴포넌트**를 사용하면 **prefetch 기능**을 제공해서, 사용자가 이동할 가능성이 높은 페이지 데이터를 미리 불러옵니다.

그래서 SSR 페이지라도 페이지를 전환할 때는 **SPA처럼 빠르고 부드럽게 동작**합니다.

<br/><br/>

**8. Next.js 14에서 추가된 새로운 렌더링 전략에는 어떤 것들이 있나요?**

Next.js 14에서는 **Partial Prerendering(PPR)이** 실험적으로 도입되었습니다.

**한 페이지에서 고정된 부분과 동적인 부분을 나누어서 처리**하는 방식입니다.

정적인 부분은 즉시 응답하고, 동적인 부분은 스트리밍(streaming)으로 이어 붙여서 초기 로딩 속도 개선과 최신 데이터 반영을 동시에 할 수 있습니다.

<br/><br/>

**9. Next.js에서 API Routes는 어떻게 생성되고, 어떤 방식으로 동작하나요?**

**Pages Router 방식**: **`pages/api` 폴더에 파일을 만들면 자동으로 API 엔드포인트**가 됩니다.

**App Router 방식**: **`app` 폴더에 `route.js` 파일 안에 `GET`, `POST` 같은 메서드별 함수를 export**합니다.

- API Route는 **서버에서만 실행**되며, 클라이언트는 HTTP 요청으로 접근해야 합니다.

<br/><br/>

**10. API Routes를 사용할 때 주의해야 할 점은 무엇인가요?**

**보안**

- 입력 데이터 반드시 검증
- API 키나 비밀번호는 환경변수로 관리
- 인증이 필요한 API는 토큰이나 세션 확인

**CORS**

- 기본적으로 같은 도메인에서만 접근 가능 → 외부 접근이 필요하면 헤더 설정 필요

**실행 환경**

- API Routes는 브라우저가 아닌 **서버 전용 코드**이기 때문에 브라우저 전용 API(`window` 등)를 쓰면 오류 발생

<br/>
